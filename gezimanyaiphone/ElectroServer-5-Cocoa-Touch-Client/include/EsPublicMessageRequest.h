//
//  Autogenerated by CocoaTouchApiGenerator
//
//  DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//



#import <EsMessage.h>
#import <EsMessageType.h>
#import <EsRequest.h>
#import <EsResponse.h>
#import <EsEvent.h>
#import <EsEntity.h>
#import <EsObject.h>
#import <ThriftPublicMessageRequest.h>
#import <EsFlattenedEsObject.h>
#import <ThriftFlattenedEsObject.h>

/**
 * This class is used to send a public message to a room that the user is in. A public message can contain a chat message and an optional EsObject. To send a public message to a room you must specify the room id and zone id.<br/>
 Public messages can be captured by a server-side event handler and modified or stopped. If the room has language filters enabled then the filter will be applied to the message.
 * 
 * This shows how to send a simple public message to a room with no EsObject attached.

<pre>
private var _es:ElectroServer;
private var _room:Room;

private function initialize():void {
        _es.engine.addEventListener(MessageType.PublicMessageEvent.name, onPublicMessageEvent);
}

private function sendTestMessage():void {
        //create the message object
        var pmr:PublicMessageRequest = new PublicMessageRequest();

        //configure it
        pmr.message = "Hello World!";
        pmr.roomId = _room.id;
        pmr.zoneId = _room.zoneId;

        //send it
        _es.engine.send(pmr);
}
</pre>


                 This shows how to send a public message to a room with an EsObject attached.
<pre>
private var _es:ElectroServer;
private var _room:Room;

private function initialize():void {
        _es.engine.addEventListener(MessageType.PublicMessageEvent.name, onPublicMessageEvent);
}

private function sendTestMessage():void {
        //create the message object
        var pmr:PublicMessageRequest = new PublicMessageRequest();

        //configure it
        pmr.message = "Hello World!";
        pmr.roomId = _room.id;
        pmr.zoneId = _room.zoneId;

        //create an EsObject to send
        var esob:EsObject = new EsObject();
        esob.setBoolean("playAudioWithMessage", true);

        //put it on the message
        pmr.esObject = esob;

        //send it
        _es.engine.send(pmr);
}

private function onPublicMessageEvent(e:PublicMessageEvent):void {
        trace(e.userName + " says '" + e.message + "'");
        trace("playAudioWithMessage: " + e.esObject.getBoolean("playAudioWithMessage").toString());
}
</pre>
 */
@interface EsPublicMessageRequest : EsRequest {
@private
	BOOL zoneId_set_;
	int32_t zoneId_;
	BOOL roomId_set_;
	int32_t roomId_;
	BOOL message_set_;
	NSString* message_;
	BOOL esObject_set_;
	EsObject* esObject_;
}

/**
 * Id of the zone that contains the room
 */
@property(nonatomic) int32_t zoneId;
/**
 * The id of the target room for the message
 */
@property(nonatomic) int32_t roomId;
/**
 * The message to send.
 */
@property(retain,nonatomic) NSString* message;
/**
 * An optional EsObject to send with the message.
 */
@property(retain,nonatomic) EsObject* esObject;

- (id) init;
- (id) initWithThriftObject: (id) thriftObject;
- (void) fromThrift: (id) thriftObject;
- (ThriftPublicMessageRequest*) toThrift;
- (id) newThrift;
@end
